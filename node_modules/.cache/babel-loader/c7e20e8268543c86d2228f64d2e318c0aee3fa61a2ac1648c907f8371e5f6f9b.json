{"ast":null,"code":"import { __awaiter as t } from \"tslib\";\nimport { Hub as e } from \"aws-amplify\";\nimport { appendToCognitoUserAgent as n } from \"@aws-amplify/auth\";\nimport { waitFor as i } from \"xstate/lib/waitFor.js\";\nimport { ALLOWED_SPECIAL_CHARACTERS as a, emailRegex as o } from \"./constants.mjs\";\nimport { getActorState as s } from \"./actor.mjs\";\nimport { isFunction as r } from \"../../utils/index.mjs\";\nconst c = _ref => {\n    let {\n      packageName: t,\n      version: e\n    } = _ref;\n    n(\"\".concat(t, \"/\").concat(e));\n  },\n  l = t => {\n    const e = t.trim().split(\"\");\n    for (let t = 0; t < e.length; t++) t > 0 && t < e.length - 1 && (e[t] = \"*\");\n    return e.join(\"\");\n  },\n  u = t => {\n    if (t.length < 4) return t;\n    const e = t.split(\"\");\n    for (let t = 0; t < e.length - 4; t++) e[t] = \"*\";\n    return e.join(\"\");\n  },\n  m = e => t(void 0, void 0, void 0, function* () {\n    try {\n      yield i(e, t => s(t).matches(\"autoSignIn\"));\n    } catch (t) {}\n  }),\n  d = (_ref2, i, a) => {\n    let {\n      payload: {\n        data: e,\n        event: n\n      }\n    } = _ref2;\n    return t(void 0, void 0, void 0, function* () {\n      const {\n          send: t\n        } = i,\n        o = i.getSnapshot(),\n        {\n          onSignIn: c,\n          onSignOut: l\n        } = null != a ? a : {};\n      switch (n) {\n        case \"tokenRefresh\":\n          o.matches(\"authenticated.idle\") && t(\"TOKEN_REFRESH\");\n          break;\n        case \"autoSignIn\":\n          if (!o.matches(\"authenticated\")) {\n            yield m(i);\n            const n = s(i.getSnapshot());\n            (null == n ? void 0 : n.matches(\"autoSignIn\")) && t({\n              type: \"AUTO_SIGN_IN\",\n              data: e\n            });\n          }\n          break;\n        case \"autoSignIn_failure\":\n          {\n            yield m(i);\n            const n = s(i.getSnapshot());\n            (null == n ? void 0 : n.matches(\"autoSignIn\")) && t({\n              type: \"AUTO_SIGN_IN_FAILURE\",\n              data: e\n            });\n            break;\n          }\n        case \"signIn\":\n          r(c) && c();\n          break;\n        case \"signOut\":\n        case \"tokenRefresh_failure\":\n          r(l) && l(), o.matches(\"authenticated.idle\") && t(\"SIGN_OUT\");\n      }\n    });\n  },\n  h = function (t) {\n    let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : d;\n    return e.listen(\"auth\", ((t, e) => n => {\n      e(n, t);\n    })(t, n), \"authenticator-hub-handler\");\n  },\n  p = t => a.some(e => t.includes(e)),\n  f = (t, e, n) => encodeURI(\"otpauth://totp/\".concat(t, \":\").concat(e, \"?secret=\").concat(n, \"&issuer=\").concat(t));\nfunction g(t) {\n  for (var _len = arguments.length, e = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    e[_key - 1] = arguments[_key];\n  }\n  return Object.entries(t).reduce((t, _ref3) => {\n    let [n, i] = _ref3;\n    return Object.assign(Object.assign({}, t), {\n      [n]: e.includes(n) ? i : null == i ? void 0 : i.trim()\n    });\n  }, {});\n}\nconst I = t => !!t && o.test(t);\nexport { l as censorAllButFirstAndLast, u as censorPhoneNumber, c as configureComponent, d as defaultAuthHubHandler, f as getTotpCodeURL, p as hasSpecialChars, I as isValidEmail, h as listenToAuthHub, g as trimValues };","map":{"version":3,"names":["__awaiter","t","Hub","e","appendToCognitoUserAgent","n","waitFor","i","ALLOWED_SPECIAL_CHARACTERS","a","emailRegex","o","getActorState","s","isFunction","r","c","_ref","packageName","version","concat","l","trim","split","length","join","u","m","matches","d","_ref2","payload","data","event","send","getSnapshot","onSignIn","onSignOut","type","h","arguments","undefined","listen","p","some","includes","f","encodeURI","g","_len","Array","_key","Object","entries","reduce","_ref3","assign","I","test","censorAllButFirstAndLast","censorPhoneNumber","configureComponent","defaultAuthHubHandler","getTotpCodeURL","hasSpecialChars","isValidEmail","listenToAuthHub","trimValues"],"sources":["C:/Users/prakash.k/Main_Prakash/Audio-app/pkrk-fm-web/node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/utils.mjs"],"sourcesContent":["import{__awaiter as t}from\"tslib\";import{Hub as e}from\"aws-amplify\";import{appendToCognitoUserAgent as n}from\"@aws-amplify/auth\";import{waitFor as i}from\"xstate/lib/waitFor.js\";import{ALLOWED_SPECIAL_CHARACTERS as a,emailRegex as o}from\"./constants.mjs\";import{getActorState as s}from\"./actor.mjs\";import{isFunction as r}from\"../../utils/index.mjs\";const c=({packageName:t,version:e})=>{n(`${t}/${e}`)},l=t=>{const e=t.trim().split(\"\");for(let t=0;t<e.length;t++)t>0&&t<e.length-1&&(e[t]=\"*\");return e.join(\"\")},u=t=>{if(t.length<4)return t;const e=t.split(\"\");for(let t=0;t<e.length-4;t++)e[t]=\"*\";return e.join(\"\")},m=e=>t(void 0,void 0,void 0,(function*(){try{yield i(e,(t=>s(t).matches(\"autoSignIn\")))}catch(t){}})),d=({payload:{data:e,event:n}},i,a)=>t(void 0,void 0,void 0,(function*(){const{send:t}=i,o=i.getSnapshot(),{onSignIn:c,onSignOut:l}=null!=a?a:{};switch(n){case\"tokenRefresh\":o.matches(\"authenticated.idle\")&&t(\"TOKEN_REFRESH\");break;case\"autoSignIn\":if(!o.matches(\"authenticated\")){yield m(i);const n=s(i.getSnapshot());(null==n?void 0:n.matches(\"autoSignIn\"))&&t({type:\"AUTO_SIGN_IN\",data:e})}break;case\"autoSignIn_failure\":{yield m(i);const n=s(i.getSnapshot());(null==n?void 0:n.matches(\"autoSignIn\"))&&t({type:\"AUTO_SIGN_IN_FAILURE\",data:e});break}case\"signIn\":r(c)&&c();break;case\"signOut\":case\"tokenRefresh_failure\":r(l)&&l(),o.matches(\"authenticated.idle\")&&t(\"SIGN_OUT\")}})),h=(t,n=d)=>e.listen(\"auth\",((t,e)=>n=>{e(n,t)})(t,n),\"authenticator-hub-handler\"),p=t=>a.some((e=>t.includes(e))),f=(t,e,n)=>encodeURI(`otpauth://totp/${t}:${e}?secret=${n}&issuer=${t}`);function g(t,...e){return Object.entries(t).reduce(((t,[n,i])=>Object.assign(Object.assign({},t),{[n]:e.includes(n)?i:null==i?void 0:i.trim()})),{})}const I=t=>!!t&&o.test(t);export{l as censorAllButFirstAndLast,u as censorPhoneNumber,c as configureComponent,d as defaultAuthHubHandler,f as getTotpCodeURL,p as hasSpecialChars,I as isValidEmail,h as listenToAuthHub,g as trimValues};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}